 <%= javascript_pack_tag 'patterns', 'data-turbolinks-track': 'reload' %>

<div class = "card-panel">  
        <%= form_for @project, url: { action: "update" }, html: {class: "form-group"} do |f| %>
        <label>Name</label>
        <%= f.text_field :name, value: @project.name %>
        <label>BPM</label>
        <%= f.text_field :bpm %>
        <label for="project_video">
        <a id="upload_video_button" class="waves-effect waves-light btn">Choose Video</a>
        </label>
        <%# dynamically update the video filename via javascript project.js %>
        <span id="video_file_name"><%= @project.video.attached? ? "Replace video" : "Choose a video" %></span>
        <%#file upload button is hideous, we had to hide it and user label-for instead. Click a tag and file chooser is invoked %>
        <%= f.file_field :video, style: "display:none;"%>
    <%= f.submit "S A V E", class: "waves-effect waves-light btn"%>
</div>  

<% end %>


<% if @project.video.attached? %>
<div class="video_preview">
    <%= video_tag(url_for(@project.video), class: "video_preview", controls: true) %>
</div>

<% end %>

<%= render 'button' %>

